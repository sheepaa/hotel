{"remainingRequest":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!/Users/kyy/Documents/ooad/酒店/hotel/front/src/views/findroom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/src/views/findroom.vue","mtime":1669291410000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\nimport footbar from \"@/components/footbar.vue\";\nimport store from './../store';\n\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      form: {\n        indate: '',\n        leavedate: '',\n        currentDate: new Date()\n      },\n      listdata: [{\n        room_type: '大床房',\n        // introduce: 'good',\n        price: 1000,\n        // feature: 'da'\n      }],\n    }\n  },\n  components: {\n    footbar,\n  },\n  methods: {\n    showroom() {\n      console.log(123);\n      this.roomVisible = true;\n    },\n    searchBtn() {\n      // console.log(this.changeTimeStr(this.form.indate));\n      if (this.form.indate == \"\" || this.form.leavedate == \"\") {\n        this.dialogVisible = true;\n        return;\n      }\n      this.axios.get(\"http://localhost:8090/user/listRoom\", {\n        \"inTime\": this.changeTimeStr(this.form.indate),\n        \"leaveTime\": this.changeTimeStr(this.form.leavedate)\n      })\n          .then(res => {\n            this.$store.state.searchSet = res.data.data;\n            this.$store.state.searchTime.inTime = this.changeTimeStr(this.form.indate);\n            this.$store.state.searchTime.leaveTime = this.changeTimeStr(this.form.leavedate);\n            this.$router.push(\"/search\");\n          })\n          .catch(() => {\n            console.log(\"error\");\n          })\n\n    },\n    changeTimeStr(str) {\n      str = str.toString();\n      str = str.replace(/ GMT.+$/, ''); // Or str = str.substring(0, 24)\n      let d = new Date(str);\n      let a = [d.getFullYear(), d.getMonth() + 1, d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds()];\n      for (var i = 0, len = a.length; i < len; i++) {\n        if (a[i] < 10) {\n          a[i] = '0' + a[i];\n        }\n      }\n      str = a[0] + '-' + a[1] + '-' + a[2] + ' ' + a[3] + ':' + a[4];\n      return str;\n    },\n    unity() {\n      this.$axios.get(\"http://localhost:9091/customer/view/1\")\n          .then(res => {\n            this.listdata = res.data;\n            console.log(this.listdata);\n            alert(\"wow\")\n          }, error => {\n            console.log(\"fail\", error)\n          })\n          .catch(res => {\n            console.log(res);\n          })\n    }\n  },\n  //\n  mounted() {\n    this.axios.get(\"http://localhost:9091/customer/view/1\")\n        .then(res => {\n          this.listdata = res.data;\n          console.log(this.listdata);\n          console.log(\"inside\")\n          alert(this.listdata)\n        }, error => {\n          console.log(\"fail\", error)\n        })\n        .catch(res => {\n          console.log(res);\n        })\n\n  }\n}\n",{"version":3,"sources":["findroom.vue"],"names":[],"mappings":";AAmFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"findroom.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-container class=\"wrapper\">\n      <!-- <el-header class=\"header\">找房</el-header> -->\n      <el-main class=\"section\">\n        <div class=\"bg-header\"></div>\n        <el-card class=\"box-card pb-1\">\n          <div class=\"text item\">\n            <el-row>\n              <el-col :span=\"16\">\n                <p class=\"text-left\"><i class=\"el-icon-location-outline\"></i>长清大学城星级宾馆</p>\n              </el-col>\n              <!-- 回到findhotel -->\n              <el-col :span=\"8\">\n                <p class=\"text-right\">选择位置<i class=\"el-icon-arrow-right\"></i></p>\n              </el-col>\n            </el-row>\n            <el-form ref=\"form\" :model=\"form\">\n              <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                  <el-form-item label=\"入住时间\">\n                    <el-date-picker type=\"datetime\" placeholder=\"选择日期\" v-model=\"form.indate\"\n                                    style=\"width: 100%;\"></el-date-picker>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"12\">\n                  <el-form-item label=\"离店时间\">\n                    <el-date-picker type=\"datetime\" placeholder=\"选择日期\" v-model=\"form.leavedate\"\n                                    style=\"width: 100%;\"></el-date-picker>\n                  </el-form-item>\n                </el-col>\n              </el-row>\n\n              <el-form-item>\n                <el-button type=\"primary\" icon=\"el-icon-search\" class=\"btn-block\" @click=\"searchBtn\">查找空余房间\n                </el-button>\n              </el-form-item>\n            </el-form>\n          </div>\n        </el-card>\n\n        <el-row class=\"mt-1\">\n          <el-card class=\"mb-1 ml-1 mr-1\">\n            <div class=\"text item\">\n              <el-button type=\"primary\" @click=\"unity\">点击查看客房模型</el-button>\n            </div>\n          </el-card>\n          <el-col :span=\"22\" v-for=\"(tp, index) in listdata\" :key=\"index\" :offset=\"1\" class=\"mb-1\">\n            <el-card :body-style=\"{ padding: '0px' }\">\n              <el-row>\n                <el-col :span=\"8\">\n                  <img :src=\"tp.coverImage\" class=\"image\">\n                </el-col>\n                <el-col :span=\"16\">\n                  <div style=\"padding: 14px;\" class=\"text-left room\">\n\n                    <p class=\"room-title\">\n                      {{ tp.room_type }}\n                    </p>\n<!--                    <p class=\"room-intro\">{{ tp.introduce }}</p>-->\n                    <p class=\"room-price\">￥{{ tp.price }} 起</p>\n<!--                    <p class=\"room-comment\">“{{ tp.feature }}”</p>-->\n                  </div>\n                </el-col>\n              </el-row>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n      <el-footer class=\"footer\">\n        <footbar></footbar>\n      </el-footer>\n      <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"95%\">\n        <span>您还没有选择完整的时间段！</span>\n        <span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t\t<el-button type=\"primary\" @click=\"dialogVisible = false\">确定</el-button>\n\t\t\t\t</span>\n      </el-dialog>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport footbar from \"@/components/footbar.vue\";\nimport store from './../store';\n\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      form: {\n        indate: '',\n        leavedate: '',\n        currentDate: new Date()\n      },\n      listdata: [{\n        room_type: '大床房',\n        // introduce: 'good',\n        price: 1000,\n        // feature: 'da'\n      }],\n    }\n  },\n  components: {\n    footbar,\n  },\n  methods: {\n    showroom() {\n      console.log(123);\n      this.roomVisible = true;\n    },\n    searchBtn() {\n      // console.log(this.changeTimeStr(this.form.indate));\n      if (this.form.indate == \"\" || this.form.leavedate == \"\") {\n        this.dialogVisible = true;\n        return;\n      }\n      this.axios.get(\"http://localhost:8090/user/listRoom\", {\n        \"inTime\": this.changeTimeStr(this.form.indate),\n        \"leaveTime\": this.changeTimeStr(this.form.leavedate)\n      })\n          .then(res => {\n            this.$store.state.searchSet = res.data.data;\n            this.$store.state.searchTime.inTime = this.changeTimeStr(this.form.indate);\n            this.$store.state.searchTime.leaveTime = this.changeTimeStr(this.form.leavedate);\n            this.$router.push(\"/search\");\n          })\n          .catch(() => {\n            console.log(\"error\");\n          })\n\n    },\n    changeTimeStr(str) {\n      str = str.toString();\n      str = str.replace(/ GMT.+$/, ''); // Or str = str.substring(0, 24)\n      let d = new Date(str);\n      let a = [d.getFullYear(), d.getMonth() + 1, d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds()];\n      for (var i = 0, len = a.length; i < len; i++) {\n        if (a[i] < 10) {\n          a[i] = '0' + a[i];\n        }\n      }\n      str = a[0] + '-' + a[1] + '-' + a[2] + ' ' + a[3] + ':' + a[4];\n      return str;\n    },\n    unity() {\n      this.$axios.get(\"http://localhost:9091/customer/view/1\")\n          .then(res => {\n            this.listdata = res.data;\n            console.log(this.listdata);\n            alert(\"wow\")\n          }, error => {\n            console.log(\"fail\", error)\n          })\n          .catch(res => {\n            console.log(res);\n          })\n    }\n  },\n  //\n  mounted() {\n    this.axios.get(\"http://localhost:9091/customer/view/1\")\n        .then(res => {\n          this.listdata = res.data;\n          console.log(this.listdata);\n          console.log(\"inside\")\n          alert(this.listdata)\n        }, error => {\n          console.log(\"fail\", error)\n        })\n        .catch(res => {\n          console.log(res);\n        })\n\n  }\n}\n</script>\n\n<style scoped=\"scoped\">\n.box-card {\n  height: 30vh;\n  margin: -7rem 1rem 0;\n}\n\n.time {\n  font-size: 13px;\n  color: #999;\n}\n\n.bottom {\n  margin-top: 13px;\n  line-height: 12px;\n}\n\n.button {\n  padding: 0;\n  float: right;\n}\n\n.image {\n  width: 80%;\n  display: block;\n  padding: 1rem;\n  border: 1px solid transparent;\n  border-radius: 20px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n\n.clearfix:after {\n  clear: both\n}\n\n.room p {\n  margin-bottom: 0.25rem;\n  margin-top: 0;\n}\n\n.room-title {\n  font-size: 1.2rem;\n  font-weight: bolder;\n  color: #303133;\n}\n\n.room-intro {\n  font-size: 0.9rem;\n  color: #606266;\n}\n\n.room-price {\n  font-size: 1.2rem;\n  color: #F56C6C;\n}\n\n.room-comment {\n  font-size: 0.8rem;\n  color: #909399;\n}\n\n.black {\n  color: #303133;\n}\n</style>\n"]}]}