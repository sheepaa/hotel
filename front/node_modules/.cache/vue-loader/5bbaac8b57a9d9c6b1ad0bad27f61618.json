{"remainingRequest":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!/Users/kyy/Documents/ooad/酒店/hotel/front/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/src/views/login.vue","mtime":1669629487295},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kyy/Documents/ooad/酒店/hotel/front/node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  import copyright from \"@/components/copyright.vue\";\n  import store from './../store';\n  export default {\n    data() {\n      return {\n        login: {\n          email: '',\n          password: '',\n        },\n        iconstyle: 'el-icon-right',\n        disabled: false,\n        btnType: 'primary',\n        isRealLogin: true,\n      }\n    },\n    components: {\n      copyright,\n    },\n    methods: {\n      loginBtn() {\n        this.iconstyle = \"el-icon-loading\";\n        this.disabled = true;\n        // console.log(this.login);\n        this.axios.post(\"http://localhost:8090/user/login\", {\n          \"email\": this.login.email,\n          \"password\": this.login.password,\n        }).then(res => {\n          if (res.data.code == 200) {\n            this.iconstyle = \"el-icon-check\";\n            this.btnType = \"success\";\n            setTimeout(() => {\n              this.disabled = false;\n              this.$store.commit('setFind');\n              this.$router.push(\"/findroom\");\n            }, 2000);\n          }\n          else {\n            this.iconstyle = \"el-icon-close\";\n            this.btnType = \"danger\";\n            setTimeout(() => {\n              this.disabled = false;\n              this.iconstyle = \"el-icon-right\";\n              this.btnType = \"primary\";\n            }, 2000);\n          }\n        })\n        .catch(res => {\n          console.log(res);\n          this.iconstyle = \"el-icon-close\";\n          this.btnType = \"danger\";\n          setTimeout(() => {\n            this.disabled = false;\n            this.iconstyle = \"el-icon-right\";\n            this.btnType = \"primary\";\n          }, 2000);\n        })\n      \n      },\n      nologinBtn() {\n        this.$store.commit('setFind');\n        this.$router.push(\"/findroom\");\n      }\n    }\n  }\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-container class=\"wrapper\">\n      <el-main class=\"section text-center\">\n        <div class=\"login-bg\"></div>\n        <el-card class=\"box-card login-card\">\n          <div class=\"text item\">\n            <p class=\"login-title\">宾馆客房预订系统</p>\n            <el-form :model=\"login\" status-icon ref=\"login\" label-width=\"80px\">\n              <el-form-item label=\"账户邮箱\" prop=\"email\">\n                <el-input type=\"text\" v-model=\"login.email\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"密码\" prop=\"pass\">\n                <el-input type=\"password\" v-model=\"login.password\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n            </el-form>\n          </div>\n        </el-card>\n        <el-button circle :type=\"btnType\" @click=\"loginBtn\" class=\"loginbtn\" :disabled=\"disabled\">\n          <i :class=\"iconstyle\"></i>\n        </el-button>\n        <div class=\"register\">\n          <p>\n            <router-link to=\"/register\">注册账号</router-link>\n          </p>\n          \n        </div>\n      </el-main>\n    </el-container>\n    <el-footer class=\"footer text-center\">\n      <copyright></copyright>\n    </el-footer>\n  </div>\n</template>\n\n<script>\n  import copyright from \"@/components/copyright.vue\";\n  import store from './../store';\n  export default {\n    data() {\n      return {\n        login: {\n          email: '',\n          password: '',\n        },\n        iconstyle: 'el-icon-right',\n        disabled: false,\n        btnType: 'primary',\n        isRealLogin: true,\n      }\n    },\n    components: {\n      copyright,\n    },\n    methods: {\n      loginBtn() {\n        this.iconstyle = \"el-icon-loading\";\n        this.disabled = true;\n        // console.log(this.login);\n        this.axios.post(\"http://localhost:8090/user/login\", {\n          \"email\": this.login.email,\n          \"password\": this.login.password,\n        }).then(res => {\n          if (res.data.code == 200) {\n            this.iconstyle = \"el-icon-check\";\n            this.btnType = \"success\";\n            setTimeout(() => {\n              this.disabled = false;\n              this.$store.commit('setFind');\n              this.$router.push(\"/findroom\");\n            }, 2000);\n          }\n          else {\n            this.iconstyle = \"el-icon-close\";\n            this.btnType = \"danger\";\n            setTimeout(() => {\n              this.disabled = false;\n              this.iconstyle = \"el-icon-right\";\n              this.btnType = \"primary\";\n            }, 2000);\n          }\n        })\n        .catch(res => {\n          console.log(res);\n          this.iconstyle = \"el-icon-close\";\n          this.btnType = \"danger\";\n          setTimeout(() => {\n            this.disabled = false;\n            this.iconstyle = \"el-icon-right\";\n            this.btnType = \"primary\";\n          }, 2000);\n        })\n      \n      },\n      nologinBtn() {\n        this.$store.commit('setFind');\n        this.$router.push(\"/findroom\");\n      }\n    }\n  }\n</script>\n\n<style scoped=\"scoped\">\n  .login-bg {\n    background: rgb(247, 160, 30);\n    height: 30vh;\n    background-size: 100%;\n    border: 0px solid transparent;\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n  }\n\n  .text {\n    font-size: 14px;\n  }\n\n  .item {\n    /* padding: 18px 0; */\n  }\n\n  .login-card {\n    margin: -7rem 1rem 1rem 1rem;\n  }\n  \n  .login-title {\n    font-size: 2rem;\n    font-weight: lighter;\n    margin-top: 1rem;\n  }\n  \n  .wrapper {\n    min-height: 90vh;\n  }\n  \n  .el-main {\n    max-height: 90vh;\n  }\n  \n  #app {\n    overflow: hidden;\n  }\n  \n  .loginbtn {\n    width: 7rem;\n    height: 7rem;\n    font-size: 3rem;\n    margin-top: 2rem;\n  }\n  \n  .register {\n    margin-top: 5vh;\n  }\n  \n  .register a, .register div {\n    color: #409EFF;\n  }\n  \n  .register p {\n    margin: 0.5rem;\n  }\n  \n</style>\n"]}]}